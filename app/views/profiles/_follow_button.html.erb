<% if user_signed_in? %>
  <% if current_user == user %>
    <%= link_to "Editar Perfil", edit_user_registration_path, class: "btn btn-outline-secondary" %>
  <% elsif current_user.following?(user) %>
    <%= button_to unfollow_user_path(username: user.username), 
        method: :delete,
        class: "btn btn-outline-danger",
        data: { turbo_frame: "follow_button_#{user.id}" } do %>
      Deixar de seguir
    <% end %>
  <% else %>
    <%= button_to follow_user_path(username: user.username),
        method: :post,
        class: "btn btn-primary",
        data: { turbo_frame: "follow_button_#{user.id}" } do %>
      Seguir
    <% end %>
  <% end %>
<% end %>